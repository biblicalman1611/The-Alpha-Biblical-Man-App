{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/biblical-truth-website/middleware.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\n\nexport function middleware(request: NextRequest) {\n    const { pathname } = request.nextUrl;\n\n    // Protect /war-room routes\n    if (pathname.startsWith('/war-room')) {\n        // Check for auth cookie\n        const authCookie = request.cookies.get('auth');\n\n        // If not authenticated, redirect to login\n        if (!authCookie || authCookie.value !== 'true') {\n            const loginUrl = new URL('/login', request.url);\n            loginUrl.searchParams.set('redirect', pathname);\n            return NextResponse.redirect(loginUrl);\n        }\n\n        // Note: Membership check happens in the layout.tsx client-side\n        // because we need to query the database with the user's email\n        // and middleware doesn't have easy access to the database\n    }\n\n    // Redirect old /hub routes to /war-room\n    if (pathname.startsWith('/hub')) {\n        const newPath = pathname.replace('/hub', '/war-room');\n        return NextResponse.redirect(new URL(newPath, request.url));\n    }\n\n    return NextResponse.next();\n}\n\nexport const config = {\n    matcher: [\n        '/war-room/:path*',\n        '/hub/:path*',\n    ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGO,SAAS,WAAW,OAAoB;IAC3C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,2BAA2B;IAC3B,IAAI,SAAS,UAAU,CAAC,cAAc;QAClC,wBAAwB;QACxB,MAAM,aAAa,QAAQ,OAAO,CAAC,GAAG,CAAC;QAEvC,0CAA0C;QAC1C,IAAI,CAAC,cAAc,WAAW,KAAK,KAAK,QAAQ;YAC5C,MAAM,WAAW,IAAI,IAAI,UAAU,QAAQ,GAAG;YAC9C,SAAS,YAAY,CAAC,GAAG,CAAC,YAAY;YACtC,OAAO,gOAAY,CAAC,QAAQ,CAAC;QACjC;IAEA,+DAA+D;IAC/D,8DAA8D;IAC9D,0DAA0D;IAC9D;IAEA,wCAAwC;IACxC,IAAI,SAAS,UAAU,CAAC,SAAS;QAC7B,MAAM,UAAU,SAAS,OAAO,CAAC,QAAQ;QACzC,OAAO,gOAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,SAAS,QAAQ,GAAG;IAC7D;IAEA,OAAO,gOAAY,CAAC,IAAI;AAC5B;AAEO,MAAM,SAAS;IAClB,SAAS;QACL;QACA;KACH;AACL"}}]
}